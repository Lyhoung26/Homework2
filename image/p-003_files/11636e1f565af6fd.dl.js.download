(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9591],{74982:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>l});var i=n(93981),s=n(24580),a=n(37539),o=n(41283),r=n.n(o);const l=({className:e})=>i.createElement("div",{className:`${e} ${r().multiBrandLogosContainer}`},i.createElement(s.Z,{svgPassThrough:{className:r().nCOMLogo}}),i.createElement(a.Z,{svgPassThrough:{className:r().rackLogo}}))},20663:(e,t,n)=>{"use strict";n.d(t,{"i":()=>i});const i=({isRackEnabled:e=!1})=>"Nordstrom"+(e?" Rack":"")},33312:(e,t,n)=>{"use strict";n.d(t,{"O":()=>r});var i=n(93981),s=n(47818),a=n(72540),o=n.n(a);const r=()=>i.createElement(s.Z,{className:o().hiddenInput})},76647:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>a});var i=n(93981),s=n(16587);const a=({size:e,visible:t,children:n,...a})=>i.createElement(s.Z,{size:null!=e?e:"large",visible:null!=t?t:"false"},i.createElement("span",a,n))},65979:(e,t,n)=>{"use strict";n.d(t,{"m_":()=>s,"Li":()=>a,"bR":()=>i});const i={MOBILE_DONE:"MOBILE_DONE",VERIFY_MOBILE:"VERIFY_MOBILE",EMAIL_DONE:"EMAIL_DONE"},s={VERIFIED:"VERIFIED",UNVERIFIED:"UNVERIFIED"},a={ENGAGED:"Engaged",IMPRESSED:"Impressed"}},26523:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>Ft});var i={};n.r(i);var s=n(79112),a=n(37843),o=n(97963),r=n(58855),l=n(93491),c=n.n(l),d=n(52689),m=n.n(d),u=n(37693),h=n.n(u),p=n(67882),E=n.n(p),g=n(93981),C=n(30583),v=n.n(C),S=n(84348),y=n(80897),k=n(8242),w=n(99518),I=n.n(w);const f=()=>g.createElement("div",{className:I().break}),b=()=>g.createElement("div",{className:I().divider},g.createElement(f,null),g.createElement(S.Z,{variant:"small",elementPassThrough:{className:I().text}},"OR"),g.createElement(f,null));var N=n(29653),P=n(8764),T=n(46991),A=n.n(T);const R=({dangerousDlsOverrides:e,buttonPassThrough:t,children:n,className:i,dataElement:s,buttonMessage:a,fullWidth:o,icon:r,iconLocation:l,isAnimated:c,size:d="medium",variant:m="primary",isLoading:u=!1,messageDataElement:h="otp-subtext"})=>g.createElement("div",{className:i},g.createElement(P.Z,{dangerousDlsOverrides:e,buttonPassThrough:t,fullWidth:o,icon:r,iconLocation:l,isAnimated:c,size:d,variant:m,isLoading:u},n),!!a&&g.createElement("span",null,g.createElement(S.Z,{as:"div",elementPassThrough:{className:A().details},variant:"detail"},a)));var M=n(38521);const D=e=>{if(!e)return!1;const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},O=({impressionEvent:e,handleSignInWithCodeClick:t,isLoading:n=!1,value:i=M.Fm.SIGN_IN_WITH_CODE_BUTTON_TEXT,dataElement:s="sign-in-with-code-button",variant:a="primary",dangerousDlsOverrides:o={onClick:t},buttonPassThrough:r,buttonMessage:l=M.Fm.DETAIL_TEXT,messageDataElement:c="otp-subtext"})=>{const[{hasComponentMounted:d},m]=(0,g.useState)({hasComponentMounted:!1});return g.createElement("div",{ref:t=>{return null!==t&&(n=t,void(!d&&e&&D(n)&&(e(),m((e=>({...e,hasComponentMounted:!0}))))));var n}},g.createElement(R,{dangerousDlsOverrides:o,fullWidth:!0,icon:N.Z,iconLocation:"leading",isAnimated:!0,size:"medium",variant:a,buttonPassThrough:r,isLoading:n,buttonMessage:l,dataElement:s,messageDataElement:c},i))},Z=({handleSignInWithPasswordClick:e,impressionEvent:t,isDisabled:n})=>{const[{hasComponentMounted:i},s]=(0,g.useState)({hasComponentMounted:!1});return g.createElement("div",{ref:e=>{return null!==e&&(n=e,void(!i&&t&&D(n)&&(t(),s((e=>({...e,hasComponentMounted:!0}))))));var n}},g.createElement(P.Z,{dangerousDlsOverrides:{onClick:e},buttonPassThrough:{disabled:n},fullWidth:!0,isAnimated:!0,size:"medium",variant:"secondary",as:"button"},M.Fm.SIGN_IN_WITH_PASSWORD_BUTTON_TEXT))};var L=n(78632),x=n.n(L);const B=({primaryButtonSlot:e,secondaryButtonSlot:t,children:n,shouldMarginChildren:i=!0})=>g.createElement("section",{className:x().wrapper},g.createElement("div",{className:v()(t&&e?x().children:x().childrenWithoutSecondaryButton,{[x().noMargin]:!i})},n),!!e&&g.createElement("div",{className:x().primaryButton},e),!!t&&g.createElement("div",{className:x().divider},g.createElement(b,null)),!!t&&g.createElement("div",null,t));var _=n(15044),F=n(92666),V=n(99651),z=n(5929),U=n.n(z);const W=({isRackEnabled:e})=>g.createElement("section",{className:U().container},g.createElement(F.Z,{as:"h1",variant:"large"},g.createElement("span",null,"Something went wrong")),g.createElement(S.Z,{as:"div"},g.createElement("span",null,"Call ",g.createElement(V.Z,{isColorError:!1,isRackEnabled:e})," ","for help signing in to your account.")));function G(){return g.createElement("section",{className:U().container},g.createElement(F.Z,{as:"h1",variant:"large"},g.createElement("span",null,"Something’s wrong with our site. We’re on it!")),g.createElement(S.Z,{as:"div"},g.createElement("span",null,"Please try again later.")))}var H=n(70549);function Y(){return g.createElement("section",{className:U().container},g.createElement(F.Z,{as:"h1",variant:"large"},g.createElement("span",null,"Your account has been locked")),g.createElement(S.Z,{as:"div"},g.createElement("span",null,"For your security, we’ve locked your account. To unlock your account, ",g.createElement(H.Z,{href:"/signin/password-reset"},"reset your password now"),".")))}var K=n(65979),X=n(56998),j=n(44864);const q=e=>e?.props?.children?e.props.children:e,$=({actionName:e=""})=>"Access/SignIn/"+e,J=()=>({elements:[{id:"Access/Password",type:X.Z.input}],eventSchema:K.Li.IMPRESSED}),Q=()=>({elements:[{id:"Access/SignIn",type:X.Z.button,value:"Sign In"}],eventSchema:K.Li.IMPRESSED}),ee=()=>({elements:[{id:"Access/ChangeEmail",type:X.Z.hyperlink,value:"Use a different email"}],eventSchema:K.Li.IMPRESSED}),te=(e="Sign In with a Code")=>({elements:[{id:$({actionName:"SendOneTimePasscode"}),type:X.Z.button,value:e}],eventSchema:K.Li.IMPRESSED}),ne=()=>({elements:[{id:$({actionName:"SignInWithPasswordInstead"}),type:X.Z.button,value:"Sign In with a Password Instead"}],eventSchema:K.Li.IMPRESSED});var ie=n(2973),se=n(90612),ae=n(84763),oe=n(76647),re=n(13741),le=n.n(re);const ce=({handleSendCodeDefault:e,handleSendNewCode:t,isFetching:n,newCodeSent:i})=>{(0,g.useEffect)((()=>{let t;return i&&(t=setTimeout((()=>{e()}),2e3)),()=>clearTimeout(t)}));const s=()=>i?g.createElement("div",{className:le().newCodeSent,id:"sent-code-success"},g.createElement(ae.Z,{size:"medium",svgPassThrough:{className:le().iconSuccess}}),g.createElement("div",null,"New code sent")):n&&!i?g.createElement("span",{id:"sending-code-spinner"},g.createElement("span",{className:le().sendCodeSpinner},g.createElement(oe.Z,{size:"small",visible:n},g.createElement(g.Fragment,null))),"Sending new code"):n?g.createElement(g.Fragment,null):g.createElement("div",{id:"send-new-code-link"},g.createElement(H.Z,{alt:"send new code link",onClick:t},"Send new code"));return g.createElement("div",{className:le().wrapper},g.createElement(s,null))};function de(e,t=!1){const n=g.createElement(H.Z,{isBannerError:!0,href:t?"/faq#anchor-link-customer-care":"/browse/customer-service"},"Customer Care");return{ACCOUNT_DISABLED:{"title":g.createElement("span",{"data-cy":"account-disabled-error"},"You won't be able to sign in until you call Customer Service at ",g.createElement(V.Z,{isBannerError:!0,isColorError:!0,isRackEnabled:t}))},BAD_REQUEST:{"title":g.createElement("span",{"data-cy":"bad-request-error"},"Bad Request")},BAD_EMAIL_FORMAT:"Enter the email address this way: name@email.com",HIT_A_SNAG:{"title":g.createElement("span",{"data-cy":"hit-a-snag-error"},"We hit a snag, but we’re working on it"),"message":"Please try signing in again later."},WRONG_CODE:"Check the code we sent you and try again.",WRONG_USER_CREDENTIALS:{"title":g.createElement("span",{"data-cy":"wrong-user-credentials-error"},"Your email or password wasn't recognized"),"message":"Please try again."},MIGRATION_CONFLICT:{"title":g.createElement("span",{"data-cy":"migration-conflict-error"},"Our site hit a snag and we’re unable to sign you in right now"),"message":g.createElement(g.Fragment,null,"Please try again later or reach out to ",n,".")}}[e]}var me=n(88305),ue=n.n(me),he=n(52839);const pe=({isRackEnabled:e,logToClickStreamAnalytics:t,sendChallengeCode:n,signInComponent:{challengeInfo:{sessionId:i,deliveryMethod:s,options:o},errorState:{codeEntry:{bannerErrorCode:r,codeEntryFieldErrorCode:l,codeEntryFieldErrorStatus:c}},fetching:{sendingChallenge:d},isSigningIn:m},verifyPin:u})=>{const[h,p]=(0,g.useState)(""),[C,v]=(0,g.useState)(!1),[y,k]=(0,g.useState)(!1);(0,g.useEffect)((()=>{const e=document.querySelector("input[name='code']");e&&e.focus(),t({actionName:E()(a._j,"RENDER_CODE_ENTRY")})}),[t]);const w=()=>{!m&&h.length?u({sessionId:i,code:h}):v(!0)},I=s===he.Xc?o.sms:o.email;return g.createElement("section",{className:ue().container},g.createElement(F.Z,{as:"h1",variant:"medium"},g.createElement("span",null,"Enter your code to sign in")),r&&(()=>{const t=de(r,e);return g.createElement(ie.Z,{divPassThrough:{role:"alert"},title:t.title,variant:"critical","data-cy":"section-error-message"},t.message)})(),g.createElement(S.Z,{as:"div",variant:"medium"},g.createElement("span",null,"This helps keep your account safe from unwanted access.")),g.createElement(S.Z,{as:"div",variant:"medium"},"We sent a code to:",g.createElement("div",null,g.createElement("strong",null,I))),g.createElement(se.Z,{autoFocus:!0,onChange:({value:e})=>(({value:e})=>{p(e)})({value:e}),onKeyPress:e=>(e=>{"Enter"===e.key&&w()})(e),showError:C||c,title:"Enter your code",externalErrorMessage:de(l,e),type:"text",initialValue:h}),g.createElement(ce,{newCodeSent:y&&!d,isFetching:d,handleSendNewCode:()=>{d||(k(!0),p(""),n({sessionId:i,isCodeEntry:!0}))},handleSendCodeDefault:()=>{k(!1)}}),g.createElement(P.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:e=>w()},buttonPassThrough:{className:ue().verifySignInButton},isLoading:m},"Verify and Sign in"))};var Ee=n(49605);var ge=n(20562),Ce=n.n(ge);const ve=({errorMessage:e})=>{if("string"!=typeof e)return g.createElement(g.Fragment,null,e);const t=e.indexOf(". ");if(-1===t)return g.createElement("b",null,e);const n=e.slice(0,t+1),i=e.slice(t+2);return g.createElement("span",null,g.createElement("b",null,n),g.createElement("br",null),i)},Se=e=>{if(!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e))try{e.scrollIntoView({behavior:"smooth"})}catch{n.g.location.replace("#banner-error")}},ye=({errorMessage:e})=>g.createElement(S.Z,{as:"div",variant:"medium"},g.createElement("div",{className:Ce().errorMessage,ref:e=>null!==e&&Se(e)},g.createElement("div",null,g.createElement(Ee.Z,{size:"medium",svgPassThrough:{className:Ce().errorIcon}})),g.createElement(ve,{errorMessage:e}))),ke=({email:e,sessionId:t,sendChallengeCode:n,sendingChallenge:i})=>g.createElement("div",{className:ue().container},g.createElement(S.Z,null,"We’ll send a code to:"),g.createElement(S.Z,null,g.createElement("span",{className:ue().email},g.createElement("strong",null,e))),g.createElement(P.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:()=>{i||n({sessionId:t,deliveryMethod:"email",isCodeEntry:!1})}},buttonPassThrough:{},isLoading:i},"Send Code"));var we=n(29017),Ie=n(20433);const fe="EMAIL",be=({options:e,sendChallengeCode:t,sendingChallenge:n,sendCodeSelection:i,sessionId:s})=>g.createElement("div",{className:ue().container},g.createElement(S.Z,{as:"div"},g.createElement("strong",null,"How should we send your code?")),g.createElement(Ie.Z,{className:ue().emailOrPhoneSelection,name:"delivery-method",value:fe,onChange:e=>i({deliveryMethod:e.target.value})},g.createElement(we.Z,{value:fe,name:"Email",defaultChecked:!0},g.createElement("div",null,g.createElement("div",null,"Email"),g.createElement("div",null,g.createElement("strong",null,e.email)))),g.createElement(we.Z,{className:ue().emailOrPhoneSelection,value:"sms",name:"Sms"},g.createElement("div",null,g.createElement("div",null,"Text message"),g.createElement("div",null,g.createElement("strong",null,e.sms)),g.createElement("div",null,g.createElement("span",{className:ue().dataRates},"Messaging and data rates may apply"))))),g.createElement(P.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:()=>{n||t({sessionId:s,isCodeEntry:!1})}},buttonPassThrough:{},isLoading:n},"Send Code"));function Ne(e){const{challengeInfo:{sessionId:t,options:n},errorState:i,fetching:s,hasEmail:a,hasMobile:o,isRackEnabled:r,sendChallengeCode:l,sendCodeSelection:c}=e,d=i.sendCode&&i.sendCode.bannerErrorCode;return g.createElement("div",{className:ue().container},g.createElement(F.Z,{as:"h1",variant:"medium"},g.createElement("span",null,"Let us know it’s you")),d&&g.createElement(ye,{errorMessage:de(d,r)}),g.createElement(S.Z,{variant:"medium",as:"div"},g.createElement("span",null,"To help keep your account safe from unwanted access, we’ll send you a code to verify.")),a&&!o&&g.createElement(ke,{email:n.email,sendChallengeCode:l,sendingChallenge:s.sendingChallenge,sessionId:t}),a&&o&&g.createElement(be,{options:n,sendChallengeCode:l,sendCodeSelection:c,sendingChallenge:s.sendingChallenge,sessionId:t}))}var Pe=n(20663),Te=n(75496),Ae=n(29753),Re=n(29304),Me=n(53347),De=n.n(Me);class Oe extends g.Component{render(){const{popoverMessage:e,popoverHeaderMessage:t}=this.props;return g.createElement("div",{className:De().popoverContainer},g.createElement(Ae.Z,{shouldShowOnMouseEnter:!0,controls:"credit-popover"},g.createElement(Re.Z,{size:"medium",isFilled:!0})),g.createElement(Te.Z,{id:"credit-popover",horizontalAlignment:"center",placement:"bottom",shouldHideOnMouseLeave:!0},g.createElement("section",{className:De().popoverHeaderMessage},t),g.createElement("section",{className:De().popoverMessage},e)))}}Oe.defaultProps={popoverHeaderMessage:g.createElement(S.Z,{variant:"small",as:"span"},g.createElement("b",null," Can I apply without creating a Nordstrom.com account?")),popoverMessage:g.createElement(S.Z,{variant:"small"},"Yes. If you'd like to apply without creating an account, you can apply in-store at any Nordstrom or Nordstrom Rack.")};var Ze=n(36207),Le=n(33312),xe=n(56948);const Be=({bannerErrorCode:e,isRackEnabled:t=!1,className:n})=>{const i=de(e,t);return i.title?g.createElement(ie.Z,{divPassThrough:{role:e===xe.Z.ACCOUNT_DISABLED?"alert":"status",className:n},title:i.title,variant:"critical"},i.message):null},_e="account-check",Fe=({header:e,subheader:t,submitButtonText:n,onSubmit:i,isRackEnabled:o=!1,isCreditApplication:r=!1,isMobile:l=!1,shouldIncludePolicies:c=!1,otpCheckoutExperiment:d=!1,...m})=>{const u=(0,s.I0)(),[{submitHasBeenClicked:h,email:p,emailIsValid:C},y]=(0,g.useState)({submitHasBeenClicked:!1,email:E()(m,"customerProfile.findCustomer.email")||m.email,emailIsValid:!1});(0,g.useEffect)((()=>{u(a.t1.sendBusinessEventLog({elements:[{id:"Access/Email",type:X.Z.input}],eventSchema:K.Li.IMPRESSED}));const e=document.querySelector("input[name='email']");e&&e.focus()}),[]);const k=()=>(i({emailIsValid:null!=C&&C,email:p}),y((e=>({...e,submitHasBeenClicked:!0}))),!1),w=e=>("Enter"===e.key&&k(),!1),I=o?"/privacy":"/browse/customer-service/policy/privacy",f=o?"/terms":"/browse/customer-service/policy/terms-conditions",N=g.createElement(H.Z,{alt:"privacy information link",href:I,size:"small",target:"_blank"},"Privacy Policy"),T=g.createElement(H.Z,{alt:"terms and conditions information link",href:f,size:"small",target:"_blank"},"Terms & Conditions"),A=r?g.createElement("p",{className:U().termsConditions},"By selecting ",g.createElement("strong",null,"Next"),", you agree to our ",N," and ",T,"."):g.createElement(S.Z,{as:"div",variant:"small",elementPassThrough:{}},"By tapping Next, you agree to our ",N," and ",T,"."),R=E()(m.customerProfile,"errorState.findCustomer.bannerErrorCode",""),M=E()(m.customerProfile,"fetching.fetchingCustomerAccount",!1),D=(0,Pe.i)({isRackEnabled:o})+".com";return g.createElement("div",{id:_e,className:d?U().otpCheckoutContainer:U().container},g.createElement(F.Z,{as:"h1",variant:"medium",elementPassThrough:{className:v()({[U().smallHeadingContainerNoMargin]:!!R})}},g.createElement("div",null,e)),!!R&&g.createElement(Be,{bannerErrorCode:R,isRackEnabled:o,className:U().bannerErrorSection}),r&&g.createElement(S.Z,null,g.createElement("span",null,g.createElement("span",{className:U().boldSCAField},"Before you start your credit card application, sign in or create a ",D," account.")," ","This will ensure you can shop online with your new credit card the same day if approved."),g.createElement("div",{className:U().SCAPopover},g.createElement(Oe,{popoverHeaderMessage:g.createElement("p",null,"Can I apply without creating a ",D," account?")}))),g.createElement(S.Z,{as:"div",variant:"medium"},g.createElement("span",null,t)),g.createElement("form",{className:U().container},g.createElement(Ze.Z,{alt:"email input field",initialValue:p,enableLegacyValidation:!0,enableSuggestion:!0,externalErrorMessage:de("BAD_EMAIL_FORMAT"),onChange:({value:e,isValid:t})=>y((n=>({...n,email:e,emailIsValid:t}))),onKeyPress:w,onEmailSuggestionClick:e=>u(a.Sf.sendEmailSuggestionClickLog(e)),showError:h&&!C,temporarilyDisableClear:M,title:"Email"}),g.createElement(Le.O,null),c?A:null,g.createElement(P.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:k},buttonPassThrough:{alt:"next button",id:`${_e}-next-button`,className:U().signInButton,onKeyDown:w},isMobile:l,isLoading:M},n)),d&&g.createElement(b,null))};var Ve=n(74392),ze=n(74982),Ue=n(67352),We=n(68088),Ge=n(47818),He=n(46170),Ye=n(63869),Ke=n(27022),Xe=n(20148),je=n.n(Xe);const qe=({isRecognized:e})=>g.createElement(g.Fragment,null,g.createElement(S.Z,{elementPassThrough:{className:e?null:je().messageContainer}},he.Ph));var $e=n(86629),Je=n(63137),Qe=n(375),et=n(64375);const tt=({experimentVariant:e})=>{switch(e){case he.aq:return g.createElement(Je.Z,{size:he.Gr});case he.SR:return g.createElement(Qe.Z,{size:he.Gr});default:return g.createElement(et.Z,{size:he.TE})}},nt=({primaryMessage:e,secondaryMessage:t,experimentVariant:n,openDiscountModal:i})=>g.createElement("div",{className:je().container},g.createElement(S.Z,{as:he.kM,variant:he.TE},g.createElement("div",{id:he.to,className:je().checkoutInfoMessage},g.createElement("div",null,g.createElement(tt,{experimentVariant:n})),g.createElement("div",null,e," ",[he.aq,he.SR].includes(n)&&g.createElement(Ve.Z,{alt:"restrictions apply link",onClick:i},he.kw)))),g.createElement(S.Z,{as:he.kM,variant:he.TE},t));var it=n(84698),st=n(30089);const at=({hideModal:e,isVisible:t,rackInstantDiscountDetails:n,rackInstantDiscountHeadLine:i})=>{const{isMobileDevice:a}=(0,s.v9)(st.Si),o=!(!n||!i);return g.createElement(Ke.Z,{visible:t&&o,hideModal:e,width:a?null:"630px"},g.createElement(it.Z,{closeModal:e,rackInstantDiscountDetails:n,rackInstantDiscountHeadLine:i,includeExtraPadding:!1,isFixedFooter:!1,isVertical:!0}))},ot=({isRackEnabled:e=!1,isRecognized:t=!1,isInstantRackCardMemberDiscountExperimentActive:i=!1,isInstantLoyaltyRackDiscountExperimentActive:o=!1})=>{const r=e&&t&&i&&!o,l=e&&t&&o&&!i,[c,d]=(0,g.useState)(!1),m=()=>d(!0),{cardMemberDiscountDetails:u,memberDiscountDetails:h}=(0,s.v9)(a.Qi),{rackInstantDiscountDetails:p,rackInstantDiscountHeadLine:E}=r?u:l?h:{};return(0,g.useEffect)((()=>{const e=document.getElementById(he.to);if(!D(e))try{e?.scrollIntoView({behavior:he.XP})}catch{n.g.location.replace(he.ES)}}),[]),g.createElement(g.Fragment,null,g.createElement(at,{hideModal:()=>d(!1),isVisible:c,rackInstantDiscountDetails:p,rackInstantDiscountHeadLine:E}),l&&g.createElement(g.Fragment,null,g.createElement($e.Z,{name:he.Wx,value:he.j6,renderWhenExperimentIsOff:!0},g.createElement(nt,{primaryMessage:he.Mv,secondaryMessage:he.Ph,experimentVariant:he.j6,openDiscountModal:m})),g.createElement($e.Z,{name:he.Wx,value:he.aq},g.createElement(nt,{primaryMessage:he.xH,secondaryMessage:he.Ph,experimentVariant:he.aq,openDiscountModal:m}))),r&&g.createElement(g.Fragment,null,g.createElement($e.Z,{name:he.Jx,value:he.j6,renderWhenExperimentIsOff:!0},g.createElement(nt,{primaryMessage:he.Mv,secondaryMessage:he.Ph,experimentVariant:he.j6,openDiscountModal:m})),g.createElement($e.Z,{name:he.Jx,value:he.SR},g.createElement(nt,{primaryMessage:he.E0,secondaryMessage:he.Ph,experimentVariant:he.SR,openDiscountModal:m}))),!l&&!r&&g.createElement(nt,{primaryMessage:he.Mv,secondaryMessage:he.Ph,openDiscountModal:m}))},rt={"NCOM":"Nordstrom","NRHL":"Nordstrom Rack","TRUNK_CLUB":"Nordstrom Trunk Club"};var lt=n(16814);const ct=({formerBrand:e,handleClose:t,isOpen:n=!1})=>g.createElement(Ke.Z,{hideModal:t,visible:n,width:"375px"},g.createElement("div",{className:U().container},g.createElement(F.Z,{variant:"medium",as:"h1"},g.createElement("div",{className:U().heading},"Meet your new account!")),g.createElement("div",{className:U().infoContainer},g.createElement(lt.Z,{size:"large",svgPassThrough:{className:U().icon}}),g.createElement(S.Z,{variant:"medium",as:"div"},"Your Nordstrom and Nordstrom Rack accounts are now one.")),g.createElement(S.Z,{variant:"medium",as:"div"},"Use your ",g.createElement("strong",null,rt[e]," password")," to sign in at both brands."),g.createElement(P.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:t},buttonPassThrough:{alt:"continue signing in button"}},"Continue Signing In")));var dt=n(16587),mt=n(72540),ut=n.n(mt);const ht=e=>{const t=(0,g.useRef)(null),n=e.isErrorState,i=e.mobileErrorMessage,[s]=(0,g.useState)({isCodeComplete:!1});return g.createElement("span",{id:"otp-code-input"},g.createElement("div",null,g.createElement(se.Z,{name:"otpMobileCodeInput",childRef:t,maxlength:6,title:"",validationErrorMessage:"",className:n?ut().mobileErrorInputBox:ut().mobileInputBox,onChange:t=>(({value:t})=>{6===t.length&&(s.isCodeComplete=!0,e.setOtp({finalCode:t}))})(t),onKeyDown:t=>(t=>{t.key!==M.tW.BACKSPACE&&t.key!==M.tW.DELETE||(n&&e.otpClearErrors(),s.isCodeComplete=!1,e.setOtp({finalCode:M.Ic}))})(t),externalErrorMessage:n?i:"",disabled:e.disabled,autoComplete:"one-time-code",showError:n,isFetchingNewCode:e.isFetchingNewCode,resetEntriesAndPosition:()=>{e.resetPosition()}})))};ht.defaultProps={};const pt=ht,Et=e=>{const t=(0,g.useRef)(null),n=e.numberOfEntries,i=new Array(n).fill(""),s=e.isErrorState,[a]=(0,g.useState)({otpEntries:i,isCodeComplete:!1}),o=e=>{((e,t)=>{if(null!==e[t]&&""!==e[t]){const e=document.getElementsByName(M.Py[t])[0];return e&&(e.selectionEnd=1,e.selectionStart=1),!0}})(a.otpEntries,e)},r=({value:t,isValid:i},s)=>{const o=a.otpEntries;i&&(o[s]=t);const r=(e=>{for(let t=0;t<n;t++)if(""===e[t])return!1;return!0})(o);if(a.isCodeComplete=r,r)(t=>{const n=t.join(M.Ic);e.setOtp({finalCode:n}),a.isCodeComplete=!0})(o);else if(i&&!r&&s<e.numberOfEntries){const e=document.getElementsByName(M.Py[s+1])[0];if(""===e?.value)return e.focus()}};return g.createElement("span",{className:ut().inputEntries,id:"entry-array"},i.map(((i,l)=>g.createElement("div",{key:M.Py[l]},g.createElement(se.Z,{name:M.Py[l],childRef:t,maxlength:1,title:"",validationErrorMessage:"",className:s?ut().errorInputBox:ut().inputBox,onChange:e=>r(e,l),onKeyDown:t=>((t,i)=>{if(t.key===M.tW.BACKSPACE||t.key===M.tW.DELETE){s&&e.otpClearErrors();let n=i;const o=a.otpEntries;a.isCodeComplete=!1,e.setOtp({finalCode:M.Ic}),""===t.target.value&&0!==i&&(n=i-1);const r=document.getElementsByName(M.Py[n])[0];r&&(o[n]=M.Ic,r.focus())}else if(t.key===M.tW.LEFT_ARROW){t.preventDefault();const e=document.getElementsByName(M.Py[i-1])[0];if(void 0!==e)return e.focus()}else if(t.key===M.tW.RIGHT_ARROW){const e=document.getElementsByName(M.Py[i+1])[0];if(i<n-1)return e.focus()}})(t,l),externalErrorMessage:"",disabled:e.disabled,autoComplete:"one-time-code",onClick:()=>o(l),isFetchingNewCode:e.isFetchingNewCode,resetEntriesAndPosition:()=>(a.otpEntries=new Array(n).fill(""),void e.resetPosition())})))))};Et.defaultProps={numberOfEntries:M.aH};const gt=Et;var Ct=n(82683),vt=n.n(Ct);const St=({errorMessage:e="",handleSendCodeDefault:t,handleSendNewCode:n,isFetchingNewCode:i,isOtpSigningIn:s,isRecognized:a=!1,mobileNumber:o,newCodeSent:r,onSubmit:l,otpClearErrors:c,showLoadingSpinner:d,onUnmount:m,inputImpression:u,isMobileDevice:h,isModal:p,bannerErrorCode:E,isRackEnabled:C,resetPosition:S,isOTPSingleField:y=!0})=>{const k=!!e,w=e===he.c9?he.sA:"",I=e===he.c9?he.PY:e,[f,b]=(0,g.useState)({finalCode:""}),[N,P]=(0,g.useState)({impressionTriggered:!1});(0,g.useEffect)((()=>{const t=document.getElementsByName(M.Py[M.Py.length-1])[0];if(t&&e&&!s&&t.focus(),0!==f.finalCode.length){const e=f.finalCode;l({passcode:e}),f.finalCode=""}}),[f,s,a,e,l]),(0,g.useEffect)((()=>(p||S(),()=>m?.())),[]);return g.createElement("div",{className:vt().wrapper},g.createElement(F.Z,{as:"h1",variant:"medium",elementPassThrough:{className:v()({[vt().headerTall]:h||!p,[vt().header]:!(h||!p),[vt().headerWithoutMargin]:!!E})}},he.TD.CODE_ENTRY_HEADER),!!E&&g.createElement(Be,{bannerErrorCode:E,isRackEnabled:C}),g.createElement("div",{className:v()({[vt().signingInMobileNumber]:d})},he.TD.CODE_ENTRY_MESSAGE," ",o," "),g.createElement("div",{ref:e=>{return null!==e&&(t=e,void(u&&D(t)&&!N.impressionTriggered&&(u(),P({impressionTriggered:!0}))));var t}},d?g.createElement("div",{className:vt().loadingSpinnerContainer},g.createElement(dt.Z,{className:vt().loadingSpinner,size:"medium",visible:!0})):y?g.createElement(pt,{setOtp:b,isErrorState:k,otpClearErrors:c,disabled:s,isFetchingNewCode:i,resetPosition:S,mobileErrorMessage:I}):g.createElement(gt,{setOtp:b,isErrorState:k,otpClearErrors:c,disabled:s,isFetchingNewCode:i,resetPosition:S,numberOfEntries:M.aH})),g.createElement("div",{className:vt().margin}),k&&!y&&g.createElement("div",{className:vt().errorMessageContainer},g.createElement("div",{className:vt().errorMessage},g.createElement(Ee.Z,{size:"medium",svgPassThrough:{className:vt().errorIcon}}),g.createElement("b",null,e)),g.createElement("div",{className:vt().errorSubMessage},w)),!d&&g.createElement("div",{className:v()(vt().sendNewCodeWrapper,{[vt().sendNewCodeWrapperNonModal]:!p})},g.createElement(ce,{newCodeSent:r,isFetching:i,handleSendNewCode:n,handleSendCodeDefault:t})))},yt="GROUP_0",kt="GROUP_1A",wt="GROUP_1B",It="GROUP_2",ft="GROUP_3",bt=9e5;class Nt extends g.Component{constructor(e){super(e),m()(this,"handleUsernameChange",(({value:e,isValid:t})=>{this.setState({username:e,usernameIsValid:t})})),m()(this,"handlePasswordChange",(({value:e})=>{this.setState({password:e})})),m()(this,"handleCreateAccountLink",(()=>{const{eventCreateAccountPath:e,isServer:t,history:i}=this.props,s=t?"":window.location.search,a=e?`${e}${s}`:`/signup${s}`;i&&i.push?i.push({pathname:a}):n.g.location.replace(a)})),m()(this,"handleForgetPasswordLink",(()=>{const{history:e,isServer:t}=this.props,i="/signin/password-reset";let s="";if(this.props.logToClickStreamAnalytics({actionName:E()(a._j,"CLICK_FORGOT_PASSWORD")}),!t){if(window.location.pathname.includes("checkout"))s="?ReturnURL="+encodeURIComponent("/checkout");else if(window.location.pathname.includes("cardmember"))s="?ReturnURL="+encodeURIComponent("/signin/cardmember");else if(window.location.pathname.includes("signin")){const e=(new _.Z).getReturnUrl();e&&(s="?ReturnURL="+e)}else s="?ReturnURL="+encodeURIComponent(window.location.href);e&&e.push?e.push({pathname:i,search:s,state:{email:this.state.username}}):n.g.location.replace(i+s)}})),m()(this,"setOTPSendCodeDefault",(()=>{this.props.setIsSendNewCode({isSendNewCode:!1})})),m()(this,"handleSignInSubmission",(()=>{this.setState({submitHasBeenClicked:!0});const{logToClickStreamAnalytics:e,obfuscatedEmail:t,sendBusinessEventLog:n,signInComponent:{isSigningIn:i},startSignIn:s,signinText:o}=this.props;if(i)return!1;e({actionName:E()(a._j,"CLICK_SIGN_IN_BUTTON")});n((({buttonText:e="Sign In"})=>({action:j.Z.click,element:{id:"Access/SignIn",type:X.Z.button,value:q(e)},eventSchema:K.Li.ENGAGED}))({buttonText:E()(o,"button",he.AI.SIGN_IN_BUTTON)}));const{password:r,usernameIsValid:l}=this.state;return(t||l)&&r.length&&(s(),this.setState({waitingForPreAuth:!0})),!1})),m()(this,"onInputKeyPress",(e=>{"Enter"===e.key&&this.handleSignInSubmission(e)})),m()(this,"handleLogForgotPasswordEventToClickStreamAnalytics",(()=>{this.props.logToClickStreamAnalytics({actionName:E()(a._j,"CLICK_FORGOT_PASSWORD")})})),m()(this,"handleModalCloseClick",(()=>{this.setState({displayMeetAccountModal:!1})})),m()(this,"handleOTPUnmount",(()=>{const{otpClearState:e,clearCodeAndVerifier:t,preAuthorize:n,showRecognizedView:i}=this.props;e({isMobileVerified:i}),this.props.setIsSendNewCode({isSendNewCode:!1}),t(),n()})),m()(this,"toggleCheckBox",(e=>{this.setState({keepMeSignedInIsChecked:e})})),m()(this,"handlePasswordPopover",((e,t)=>e&&t?g.createElement("span",null,"Sign in with your ",g.createElement("b",null,t)," password."):"Your password is the same at Nordstrom and Nordstrom Rack.")),m()(this,"policyLinks",(()=>{const{isRackEnabled:e}=this.state;return e?{privacyPolicy:"/privacy",termsAndConditions:"/terms"}:{privacyPolicy:"/browse/customer-service/policy/privacy",termsAndConditions:"/browse/customer-service/policy/terms-conditions"}})),m()(this,"composeSignInMessage",((e=!1)=>{const{formerBrand:t,isAccountSignInView:n}=this.state,{isCreditApplication:i,isRackEnabled:s,showRecognizedView:a}=this.props,o=s?"Nordstromrack.com":"Nordstrom.com",r=g.createElement("p",null,"Can I apply without creating a ",o," account?");let l;switch(!0){case!(!e||!rt[t]||"TRUNK_CLUB"===t):l=g.createElement("span",null,"Sign in with your ",g.createElement("b",null,rt[t])," info.");break;case n&&!a:l=g.createElement("span",null,"Sign in with the same info at:");break;case!(!i||!a):l=g.createElement("div",{className:U().SCAMessage},g.createElement("span",{className:U().boldSCAField},"Before you start your credit card application, sign in to your ",o," account.")," ","This will ensure you can shop online with your new credit card the same day if approved.",g.createElement("div",{className:U().SCAPopover},g.createElement(Oe,{popoverHeaderMessage:r})));break;default:l=""}return l})),m()(this,"composeSignInHeader",(()=>{const{firstName:e}=this.state,{showRecognizedView:t,obfuscatedEmail:n}=this.props,i=E()(this.props,"customerProfile.findCustomer.email","");let s;switch(!0){case!!(t&&e&&n):s=`Welcome back, ${e}!`;break;case!!i:s="Welcome back!";break;default:s=he.AI.HEADER}return s})),m()(this,"handleOTPAuth",(({passcode:e})=>{const{authorizeOtpCode:t,showRecognizedView:n,sendBusinessEventLog:i}=this.props;return i({action:j.Z.type,element:{id:$({actionName:"OneTimePasscode/EnterCode"}),type:X.Z.input,value:""},eventSchema:K.Li.ENGAGED}),t({passcode:e,isRecognized:n}),null})),m()(this,"composeCodeEntry",((e,t=!1)=>{const{isMobileDevice:n,signInComponent:{errorState:{otpSignIn:{showExpiredOtpCodeError:i,showIncorrectOtpCodeError:s},signin:{bannerErrorCode:a}},isOtpSigningIn:o,showLoadingSpinner:r},otpClearErrors:l,showRecognizedView:c,sendBusinessEventLog:d,isRackEnabled:m,isOTPSingleField:u}=this.props,h={[!!i]:"Code expired",[!!s]:"Check the code and try again"}[!0],p=E()(this.props,"signInComponent.fetching.sendingNewOtp",!1),C=E()(this.props,"signInComponent.sendOtp.sms","");return g.createElement(St,{errorMessage:h,handleSendCodeDefault:this.setOTPSendCodeDefault,handleSendNewCode:()=>{this.props.handleOTPSendCode(!0),this.resetCodeEntryCursorPosition()},isOTPSingleField:u,isFetchingNewCode:p,isRecognized:c,mobileNumber:C,newCodeSent:this.props.isSendNewCode&&!p,onSubmit:this.handleOTPAuth,otpClearErrors:l,showLoadingSpinner:r,onUnmount:e,inputImpression:()=>d({elements:[{id:$({actionName:"OneTimePasscode/EnterCode"}),type:X.Z.input,value:""}],eventSchema:K.Li.IMPRESSED}),isMobileDevice:n,isModal:t,isRackEnabled:m,bannerErrorCode:a,resetPosition:this.resetCodeEntryCursorPosition,isOtpSigningIn:o})})),m()(this,"resetCodeEntryCursorPosition",(()=>{const{isOTPSingleField:e,signInComponent:{errorState:{otpSignIn:{showExpiredOtpCodeError:t,showIncorrectOtpCodeError:n}}}}=this.props,i={[!!t]:he.VZ.CODE_EXPIRED,[!!n]:he.VZ.INCORRECT_CODE}[!0];if(e){const e=document.getElementsByName(he.It)[0];e&&e.focus(),i&&e&&(e.current.selectionStart=e.current.value.length,e.current.selectionEnd=e.current.value.length)}else{const e=document.getElementsByName(M.Py[0])[0];e&&e.focus()}}));const t=E()(e,"customerProfile.findCustomer.email",""),i=E()(e,"signInComponent.logging.view","");this.passwordButtonRef=g.createRef(),this.passwordInputRef=g.createRef(),this.useDifferentPWRef=g.createRef();const s=(e=>({isCheckoutView:e===he.YS,isHomepageView:e===he.lM,isAccountSignInView:e===he.LX,isCreditApplicationView:e===he.zI}))(i);this.state={attemptsToCheckForter:1,displayMeetAccountModal:!1,formerBrand:E()(e,"customerProfile.findCustomer.migrationMetadata.formerBrand",null),forterWatcherTimeoutId:null,groupType:E()(e,"customerProfile.findCustomer.migrationMetadata.groupType",null),hasEmail:!!t,isCheckoutView:s.isCheckoutView,isHomepageView:s.isHomepageView,isAccountSignInView:s.isAccountSignInView,isCreditApplication:s.isCreditApplicationView,isMultiBrand:E()(e,"customerProfile.isMultiBrand",!1),isRackEnabled:E()(e,"isRackEnabled",!1),isInstantLoyaltyRackDiscountExperimentActive:E()(e,"isInstantLoyaltyRackDiscountExperimentActive",!1),isInstantRackCardMemberDiscountExperimentActive:E()(e,"isInstantRackCardMemberDiscountExperimentActive",!1),keepMeSignedInIsChecked:E()(e,"customerProfile.findCustomer.shouldCheckPSICheckbox",!1),preAuthTTLTimeoutId:null,preAuthWatcherTimeoutId:null,password:"",submitHasBeenClicked:!1,username:t,usernameIsValid:!!t,waitingForPreAuth:!1,firstName:E()(e,"firstName"),showOTPModal:E()(e,"signInComponent.showOTPModal",!1),showCodeEntry:!1}}componentDidMount(){const{isDevelopment:e,preAuthorize:t,sendBusinessEventLog:n,logToClickStreamAnalytics:i,sendForterCheckLog:s,isFetchingRecognizedUser:o}=this.props;if(i({actionName:E()(a._j,"RENDER_SIGN_IN")}),h()(this.passwordInputRef.current)||o||n(J()),D(this.passwordButtonRef.current)&&!o&&n(Q()),D(this.useDifferentPWRef.current)&&!o&&n(ee()),e||(0,Ye.C)())s({attempts:1,found:!0}),t();else{const e=setInterval((()=>{const e=this.state.attemptsToCheckForter+1;(0,Ye.C)()&&!o?(s({attempts:e,found:!0}),this.clearTimer(this.state.forterWatcherTimeoutId),t()):10===e&&s({attempts:e,found:!1}),this.setState({attemptsToCheckForter:e})}),1e3);this.setState({forterWatcherTimeoutId:e})}if(this.state.email){const e=document.querySelector("input[name='password']");e&&e.focus()}const{isRackEnabled:r}=this.state;(!r&&"GROUP_2"===this.state.groupType&&"NRHL"===this.state.formerBrand||r&&["GROUP_0","GROUP_1A","GROUP_1B","GROUP_2","GROUP_3","GROUP_4"].includes(this.state.groupType)&&"NCOM"===this.state.formerBrand)&&this.setState({displayMeetAccountModal:!0})}componentWillUnmount(){this.clearTimer(this.state.forterWatcherTimeoutId),this.clearTimer(this.state.preAuthTTLTimeoutId),this.clearTimer(this.state.preAuthWatcherTimeoutId)}componentDidUpdate(e){const{authorize:t,clearCodeAndVerifier:n,preAuthorize:i,signInComponent:{code:s,fetchPreAuthorizeFailed:a,verifier:o},showRecognizedView:r,onSignInSuccess:l,sendBusinessEventLog:c,isFetchingRecognizedUser:d}=this.props,{keepMeSignedInIsChecked:m,preAuthTTLTimeoutId:u,preAuthWatcherTimeoutId:p,username:g,password:C,waitingForPreAuth:v,isCheckoutView:S}=this.state,{code:y,fetchPreAuthorizeFailed:k,verifier:w}=e.signInComponent,I=E()(e,"signInComponent.showOTPModal",!1),f=E()(e,"signInComponent.sendOtp.sms",""),b=E()(e,"signInComponent.errorState.bannerErrorCode",""),N=!(!I||!f||b);!h()(this.passwordInputRef.current)&&N&&S&&!d&&c(J()),D(this.passwordButtonRef.current)&&N&&S&&!d&&c(Q());if(s&&o&&s!==y&&o!==w||a&&!k){this.clearTimer(u),this.clearTimer(p);const e=setTimeout((()=>{n()}),295e3),t=setTimeout((()=>{i()}),285e3);this.setState({preAuthTTLTimeoutId:e,preAuthWatcherTimeoutId:t})}v&&(a||s&&o)&&(this.setState({waitingForPreAuth:!1}),t({username:g,password:C,keepMeSignedInIsChecked:m,isRecognized:r,onSignInSuccess:l}))}clearTimer(e){e&&clearTimeout(e)}render(){const{isAccountSignInView:e,isCheckoutView:t,isMultiBrand:n,isRackEnabled:i,keepMeSignedInIsChecked:s,displayMeetAccountModal:a,formerBrand:o,groupType:r,submitHasBeenClicked:l,username:c,usernameIsValid:d,isInstantRackCardMemberDiscountExperimentActive:m,isInstantLoyaltyRackDiscountExperimentActive:u}=this.state,h=[yt,kt,wt,It,ft],p=h&&h.includes(r),{isMobileDevice:C,isCheckoutViewWithExperimentEnabled:y,conflictTextMessageDisclaimer:k,handleEditObfuscatedEmail:w,sendEmailSuggestionClickLog:I,showCreateAccountLink:f=!1,signinText:N,signInComponent:{formerBrand:T,errorState:{signin:{bannerErrorCode:A}},isSigningIn:R,isOtpSigningIn:D},showPasscodeOption:L,showRecognizedView:x,obfuscatedEmail:_,otpCheckoutExperiment:V,sendBusinessEventLog:z,onRedirectFromCheckoutSignInForm:W}=this.props,G=E()(this.props,"customerProfile.findCustomer.email",""),Y=E()(this.props,"customerProfile.findCustomer.hasVerifiedMobile",!1),q=E()(this.props,"signInComponent.isMobileVerified",!1),Q=E()(this.props,"signInComponent.fetching.sendingNewOtp",!1),ee=E()(this.props,"signInComponent.fetching.sendingOtp",!1),ie=!!G,se=this.policyLinks(),ae=rt[o]||rt[T],oe=t&&!l&&!A,re=Y||q,le=E()(this.props,"signInComponent.showOTPModal",!1),ce=E()(this.props,"signInComponent.sendOtp.sms",""),me=!(!le||!ce||A&&!V),ue=E()(N,"message",this.composeSignInMessage(p));if(V){let e,t=g.createElement(O,{isLoading:ee&&!Q,handleSignInWithCodeClick:()=>{this.setState({showCodeEntry:!0}),W(),this.props.handleOTPSendCode(!1,he.S5)}}),n=me?g.createElement(Z,{handleSignInWithPasswordClick:()=>{this.handleOTPUnmount(),this.props.handleSignInWithPasswordClick()},impressionEvent:()=>z(ne()),isDisabled:D}):null;if(!0===me)return t=null,e=this.composeCodeEntry(this.handleOTPUnmount,!1),g.createElement(B,{primaryButtonSlot:t,secondaryButtonSlot:n,shouldMarginChildren:!1},e)}return g.createElement("div",null,g.createElement("div",{className:U().container},a&&g.createElement(ct,{isOpen:a,formerBrand:o,handleClose:this.handleModalCloseClick}),g.createElement(F.Z,{as:"h1",variant:"medium",elementPassThrough:{className:v()({[U().smallHeadingContainer]:y,[U().smallHeadingContainerNoMargin]:!!A})}},E()(N,"header",this.composeSignInHeader())),oe&&(y?g.createElement(qe,{isRecognized:x}):g.createElement(ot,{isRackEnabled:i,isRecognized:x,isInstantRackCardMemberDiscountExperimentActive:m,isInstantLoyaltyRackDiscountExperimentActive:u})),!x&&!ie&&f&&g.createElement("p",{className:U().createAccountText},"New to ",i?"Nordstrom Rack":"Nordstrom","? ",g.createElement(Ve.Z,{alt:"create account link",onClick:this.handleCreateAccountLink},"Create an account"),"."),!!A&&g.createElement(Be,{bannerErrorCode:A,isRackEnabled:i,className:U().bannerErrorSection}),!x&&g.createElement(g.Fragment,null,g.createElement("div",{className:U().message},ue),g.createElement(ze.Z,null)),g.createElement("form",{id:"sign-in",className:U().container},x?g.createElement("div",null,g.createElement("div",null,ue),g.createElement("div",{ref:this.useDifferentPWRef},g.createElement("div",null,g.createElement("strong",null,"Email"),g.createElement("br",null),_),g.createElement(Ve.Z,{alt:"Use a different email link",className:U().recognizedEditLink,onClick:()=>w()},"Use a different email"))):ie?g.createElement(Ue.Z,{email:c,handleEditClick:()=>this.props.onEdit(c)}):g.createElement(Ze.Z,{alt:"username input field",clearTimeInMsec:bt,enableLegacyValidation:!0,enableSuggestion:!0,externalErrorMessage:de("BAD_EMAIL_FORMAT"),onChange:this.handleUsernameChange,onKeyPress:this.onInputKeyPress,onEmailSuggestionClick:I,showError:l&&!d?"error":null,temporarilyDisableClear:R,title:"Email"}),g.createElement(We.$,{email:c}),g.createElement("div",{className:U().passwordInput,ref:this.passwordInputRef},g.createElement(Ge.Z,{alt:"password input field",autoFocus:ie,clearTimeInMsec:bt,enableValidation:!0,shouldShowRequirements:!1,formerBrand:ae,isCheckoutView:t,isMultiChannelUpgrade:p,onChange:this.handlePasswordChange,onKeyPress:this.onInputKeyPress,popoverMessage:this.handlePasswordPopover(p,ae),showError:(t||p)&&"WRONG_USER_CREDENTIALS"===A,showPasswordPopover:n||p,temporarilyDisableClear:R,title:"Password",validationErrorMessage:"",impressionEvent:()=>z(J()),showCodeEntry:me})),g.createElement("div",null,g.createElement(Ve.Z,{alt:"forgot password link",onClick:this.handleForgetPasswordLink},"Forgot password?")),g.createElement(He.Z,{isMobile:C,isRack:i,keepMeSignedInIsChecked:s,selectionCallback:this.toggleCheckBox}),k&&g.createElement("div",{className:U().textMessageLegalDisclaimer},"If you have an unverified mobile number linked to your account, by tapping Sign In you agree to us sending you a text to verify your mobile number."),(!ie||y)&&g.createElement(S.Z,{as:"div",variant:"small"},g.createElement("div",{className:U().termsConditions},"By signing in to your account, you agree to our ",g.createElement(H.Z,{alt:"privacy information link",href:se.privacyPolicy,size:"small",target:"_blank"},"Privacy Policy")," and ",g.createElement(H.Z,{alt:"terms and conditions information link",href:se.termsAndConditions,size:"small",target:"_blank"},"Terms & Conditions"),".")),g.createElement(P.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:e=>this.handleSignInSubmission(e)},buttonPassThrough:{alt:"sign in button",className:v()({[U().button]:t}),onKeyDown:e=>this.onInputKeyPress(e)},isLoading:R,ref:this.passwordButtonRef},E()(N,"button",he.AI.SIGN_IN_BUTTON)))),y&&re&&g.createElement("div",{className:U().orDivider},g.createElement(b,null)),g.createElement("div",null,L&&re&&g.createElement(g.Fragment,null,g.createElement("div",{className:y?U().otpContainerCheckout:U().otpContainer},g.createElement(O,{isLoading:ee&&!Q,handleSignInWithCodeClick:()=>{this.setState({showCodeEntry:!0}),this.props.handleOTPSendCode(!1,"Sign In with a Code Instead")},value:he.S5,dataElement:"otp-button",buttonPassThrough:{alt:"otp button",className:U().otpButton,onKeyDown:e=>this.onInputKeyPress(e)},variant:"secondary",buttonMessage:he.iz,impressionEvent:()=>ee?{}:z(te("Sign In with a Code Instead")),messageDataElement:"otp-subtext"})),g.createElement(Ke.Z,{visible:me,width:C?M.Xo:M.PS,hideModal:()=>{z({action:j.Z.click,element:{id:$({actionName:"OneTimePasscode/CloseModal"}),type:X.Z.button,value:"X"},eventSchema:K.Li.ENGAGED}),this.handleOTPUnmount()},layout:"horizontal",onTransitionInEnd:this.resetCodeEntryCursorPosition},this.composeCodeEntry(null,!0)))))}}Nt.defaultProps={conflictTextMessageDisclaimer:!1,eventCreateAccountPath:"",isCreditApplication:!1,onFailure:()=>{},onSuccess:()=>{}};var Pt=n(33089),Tt=n(4226),At=n(44889),Rt=n.n(At);const Mt=({hideModal:e,isVisible:t,unknownEmail:n,isMobile:i,setIsCheckingOutAsGuestAction:o})=>{const r=(0,s.I0)();return g.createElement(Ke.Z,{visible:t,width:i?"350px":"450px",hideModal:e,onTransitionOutEnd:()=>(()=>{const e=document.querySelector("input[name='email']");e&&e.focus()})(),onTransitionInEnd:()=>r(a.t1.sendBusinessEventLog({action:j.Z.click,elements:[{id:$({actionName:"NoAccountAvailable/Edit"}),type:X.Z.button,value:"Edit"}],eventSchema:K.Li.IMPRESSED}))},g.createElement(Tt.Z,null,he.hg.HEADER),g.createElement("div",{className:Rt().topContainerMargin},g.createElement("p",{className:Rt().details},he.hg.MESSAGE),g.createElement(Ue.Z,{email:n,handleEditClick:()=>e("Edit")}),g.createElement(P.Z,{dangerousDlsOverrides:{onClick:()=>{e(),o({isCheckingOutAsGuest:!0,triggerText:he.hU})}},buttonPassThrough:{className:Rt().topBtnMargin,type:"button"},isAnimated:!0,size:"small",variant:"primary",fullWidth:!0},he.hU)))};var Dt=n(93165),Ot=n.n(Dt);const Zt=({isRackEnabled:e=!1,componentName:t=""})=>{const n=(e=>e?{privacyPolicy:"/privacy",termsAndConditions:"/terms"}:{privacyPolicy:"/browse/customer-service/policy/privacy",termsAndConditions:"/browse/customer-service/policy/terms-conditions"})(e);return g.createElement(S.Z,{as:"div",variant:"small"},g.createElement("div",{className:Ot().termsConditions},"By signing in to your account, you agree to our ",g.createElement(H.Z,{alt:"privacy information link",href:n.privacyPolicy,size:"small",target:"_blank"},"Privacy Policy")," and ",g.createElement(H.Z,{alt:"terms and conditions information link",href:n.termsAndConditions,size:"small",target:"_blank"},"Terms & Conditions"),"."))};var Lt=n(46050),xt=n.n(Lt);const Bt=({email:e,handleEditClick:t,showRecognizedView:n=!1,firstName:i,isRackEnabled:s=!1,impressionEvent:a})=>{const[{hasComponentMounted:o},r]=(0,g.useState)({hasComponentMounted:!1});return g.createElement("div",{className:xt().wrapper,ref:e=>{return null!==e&&(t=e,void(!o&&n&&a&&D(t)&&(a(),r((e=>({...e,hasComponentMounted:!0}))))));var t}},g.createElement(F.Z,{as:"h1",variant:"medium",elementPassThrough:{className:xt().header}},n?`${he.Ff.HEADER}, ${null!=i?i:"Shopper"}!`:`${he.Ff.HEADER}!`),g.createElement(S.Z,{as:"div",variant:"medium",elementPassThrough:{className:xt().subheader}},he.Ff.SUBHEADER),g.createElement(Ue.Z,{email:e,handleEditClick:t,showRecognizedView:n}),g.createElement("div",{className:xt().termsAndConditions},g.createElement(Zt,{isRackEnabled:s,componentName:he.s_})))};class _t extends g.Component{constructor(e){super(e),m()(this,"toggleOTPCheckoutView",((e=!0)=>{const{setShowGuestCheckoutAction:t,setHideGuestCheckoutAction:n}=this.props;e&&n(!1),t(!e)})),m()(this,"handleEmailEntrySubmit",(({emailIsValid:e,email:t,isCheckoutView:n})=>{const{sendBusinessEventLog:i,customerProfile:s,email:o,logToClickStreamAnalytics:r,fetchFindCustomer:l,isAccountCheckModal:c,otpCheckoutExperiment:d=!1}=this.props;i(n?{action:j.Z.click,element:{id:$({actionName:"ContinueToCheckout"}),type:X.Z.button,value:"Continue to Checkout"},eventSchema:K.Li.ENGAGED}:{action:j.Z.click,element:{id:"Access/Next",type:X.Z.button,value:"Next"},eventSchema:K.Li.ENGAGED});const m=n&&d;e&&!s?.fetching?.fetchingCustomerAccount&&(r({actionName:E()(a._j,"CLICK_SISU_NEXT_BUTTON")}),l({email:null!=t?t:o,isAccountCheckModal:c,suppressCreateAccount:m,isCheckoutView:n}))})),m()(this,"handleSignInWithPasswordClick",(()=>{const{onRedirectToCheckoutSignInForm:e,sendBusinessEventLog:t}=this.props;t({action:j.Z.click,element:{id:$({actionName:"SignInWithPasswordInstead"}),type:X.Z.button,value:"Sign In with a Password Instead"},eventSchema:K.Li.ENGAGED}),e()})),m()(this,"suppressRecognizedView",(()=>{this.props.signOut({isRecognized:!0})})),m()(this,"onEdit",(e=>{const{otpClearState:t,onDisplayAccountCheckComponent:n,sendBusinessEventLog:i,otpClearErrors:s}=this.props;i({action:j.Z.click,element:{id:$({actionName:"EditEmail"}),type:X.Z.hyperlink,value:"Edit"},eventSchema:K.Li.ENGAGED});E()(this.props,"signInComponent.sendOtp.sms","")&&t({isMobileVerified:!1}),s(),n({email:e})})),m()(this,"handleEditObfuscatedEmail",(()=>{const{sendBusinessEventLog:e}=this.props;e({action:j.Z.click,element:{id:"Access/ChangeEmail",type:X.Z.hyperlink,value:"Use a different email"},eventSchema:K.Li.ENGAGED}),this.suppressRecognizedView()})),m()(this,"handleOTPSendCode",((e,t)=>{const{showRecognizedView:n}=this.state,{otpClearErrors:i,sendOtpCode:s,sendBusinessEventLog:a}=this.props,o=E()(this.props,"customerProfile.findCustomer.email","");return e?(this.setState({isSendNewCode:!0}),a({action:j.Z.click,element:{id:$({actionName:"OneTimePasscode/SendNewCode"}),type:X.Z.button,value:"Send new code"},eventSchema:K.Li.ENGAGED}),i()):a(((e="Sign In with a Code")=>({action:j.Z.click,element:{id:$({actionName:"SendOneTimePasscode"}),type:X.Z.button,value:e},eventSchema:K.Li.ENGAGED}))(t)),s({email:o,sendingNewOtp:e,isRecognized:n}),!1})),m()(this,"withOrDivider",(e=>g.createElement("div",{className:U().withOrDivider},g.createElement("div",null,e),g.createElement("div",{className:U().orDivider},g.createElement(b,null))))),m()(this,"navigateToReturnUrl",(()=>{const{environment:{isServer:e},history:t}=this.props,n=(new _.Z).getReturnUrl();h()(n)||e||t?.push(n)}));const{shopper:{Context:{AuthenticationState:t}},obfuscatedEmail:n,loadInitialStateForCustomerProfile:i,loadInitialStateForSignInComponent:s,team:o,view:r}=e;r&&o&&(s({configuration:{...e},team:o,view:r}),i({configuration:{...e},team:o,view:r}));const l=(0,a.yB)(n),c=(0,a.Fm)(),d=!!l&&(2===t||c),u=(null!=r?r:"")===he.YS,p=(0,k.lJ)(he.Wx,[he.aq])(e)[0]||(0,k.lJ)(he.Wx,[he.j6])(e)[0],C=(0,k.lJ)(he.Jx,[he.SR])(e)[0]||(0,k.lJ)(he.Jx,[he.j6])(e)[0];this.state={AuthenticationState:t,obfuscatedEmail:l,isRecognizedCheckoutView:u,isInstantLoyaltyRackDiscountExperimentActive:p,isInstantRackCardMemberDiscountExperimentActive:C,showRecognizedView:d,isSendNewCode:!1}}componentDidMount(){const{activeAuthRefresh:e,fetchRecognizedUser:t,signInComponent:{showActiveAuthRefreshSpinner:n},showPasscodeOption:i}=this.props,{isRecognizedCheckoutView:s}=this.state,{showRecognizedView:o}=this.state,r=(0,a.lc)();n?e({onFailure:()=>{o&&i&&t({ocpId:r,isCheckoutView:s})}}):o&&i&&t({ocpId:r,isCheckoutView:s})}componentDidUpdate(e){const{customerProfile:t,logToClickStreamAnalytics:n,signInComponent:{isChallenged:i,isEnteringChallengeCode:s}}=this.props,o=E()(t,"shouldRedirectUser",!1),r=E()(t,"routePath","/signup"),l=E()(t,"history",null),c=E()(window,"location.search","");o&&l&&l.push(r+c),!i||e.signInComponent.isChallenged||s||n({actionName:E()(a._j,"RENDER_SEND_CODE")})}handleUnknownUserModalClose(e="X"){const{sendBusinessEventLog:t,closeUnknownUserModal:n}=this.props;let i=e;const{triggeredBy:s=""}=e;switch(s){case"modalCloseButton":i="X";break;case"modalBackground":i=""}t(((e="X")=>({action:j.Z.click,element:{id:$({actionName:"NoAccountAvailable/Close"}),type:X.Z.button,value:e},eventSchema:K.Li.ENGAGED}))(i)),n()}wrapComponent(e,t=!1){const{customerProfile:n,environment:{isMobileDevice:i},setIsCheckingOutAsGuestAction:s}=this.props,a=E()(n,"isUnknownUserModalVisible",!1),o=E()(n,"findCustomer.email","");return g.createElement(S.Z,{as:"section",elementPassThrough:{className:v()({[U().otpCheckoutWrapper]:t})}},e,g.createElement(Mt,{isVisible:a,isMobile:i,unknownEmail:o,hideModal:e=>this.handleUnknownUserModalClose(e),setIsCheckingOutAsGuestAction:s}))}render(){const{authorize:e,authorizeOtpCode:t,clearCodeAndVerifier:n,customerProfile:s,conflictTextMessageDisclaimer:a,environment:{isDevelopment:o,isIOS:r,isMobileDevice:l,isServer:d,browser:m},eventCreateAccountPath:u,featureFlags:{isRackEnabled:h}={},history:p,isAccountCheckModal:C,isSignInContext:v,logToClickStreamAnalytics:S,onDisplayAccountCheckComponent:k,otpCheckoutExperiment:w=!1,otpClearState:I,otpClearErrors:f,preAuthorize:b,sendBusinessEventLog:N,sendChallengeCode:P,sendOtpCode:T,sendCodeSelection:A,sendEmailSuggestionClickLog:R,sendForterCheckLog:M,showAccountCheckExperience:D,showPasscodeOption:L,onSignInSuccess:x,isCreditApplication:_,showCreateAccountLink:F,signInComponent:V,signInComponent:{logging:{view:z,team:U},hasLockedAccount:H,hasCredsRecordDisabled:K,isChoosingCodeDeliveryMethod:X,isForbidden:j,isFetchingRecognizedUser:q,isEnteringChallengeCode:$,showActiveAuthRefreshSpinner:J,redirectToRecognizedCheckoutSignInForm:Q=!1},signinText:ie,startSignIn:se,verifyPin:ae,shopper:{Name:{First:oe},Context:{AuthenticationState:re}},email:le,onRedirectFromCheckoutSignInForm:ce,setHideGuestCheckoutAction:de,setShowGuestCheckoutAction:me,isOTPSingleField:ue,featureFlags:Ee}=this.props;let ge=x;E()(Ee,"isLoyaltyAuthRestricted",!1)&&(x||(ge=this.navigateToReturnUrl));const{isRecognizedCheckoutView:Ce,isInstantLoyaltyRackDiscountExperimentActive:ve,isInstantRackCardMemberDiscountExperimentActive:Se,showRecognizedView:ye,obfuscatedEmail:ke}=this.state,we=E()(s,"shouldRedirectUser",!1),Ie=E()(s,"redirectToGuestCheckoutSignInForm",!1),fe=J||we,be=E()(s,"showAccountCheckComponent",D),Pe=d&&2===re||q,Te=!(!E()(this.props,"signInComponent.showOTPModal",!1)||!E()(this.props,"signInComponent.sendOtp.sms","")||E()(this.props,"signInComponent.errorState.bannerErrorCode","")),Ae=E()(this.props,"signInComponent.fetching.sendingNewOtp",!1),Re=E()(this.props,"signInComponent.fetching.sendingOtp",!1),Me=Ie||Q,De=E()(s,"componentView","SIGNIN"),Oe=(null!=z?z:"")===he.YS||Ce,Ze=z===he.YS||z===he.LX||z===he.$6||z===he.VY,Le=!fe&&!ye&&be&&Ze,xe=!fe&&w&&!Me&&!Te,Be=xe&&Oe&&ye,_e=Oe&&w;let Ve,ze=xe?g.createElement(O,{isLoading:Re&&!Ae,handleSignInWithCodeClick:()=>{this.handleOTPSendCode(!1),ce?.()},impressionEvent:()=>Re?{}:N(te("Sign In with a Code"))}):null,Ue=xe?g.createElement(Z,{handleSignInWithPasswordClick:()=>this.handleSignInWithPasswordClick(),impressionEvent:()=>Re?{}:N(ne())}):null,We=g.createElement(i.CheckoutAsGuestButton,{onClick:()=>{},isMobileDevice:l});switch(!0){case!!fe:w&&de(!0),Ve=g.createElement(Pt.Z,{view:he.gm});break;case!!H:w&&(de(!1),me(!0)),Ve=w?this.withOrDivider(g.createElement(Y,null)):g.createElement(Y,null);break;case!!K:w&&this.toggleOTPCheckoutView(!1),Ve=w?this.withOrDivider(g.createElement(W,{isRackEnabled:h})):g.createElement(W,{isRackEnabled:h});break;case!!j:w&&this.toggleOTPCheckoutView(!1),Ve=w?this.withOrDivider(g.createElement(G,null)):g.createElement(G,null);break;case!!X:w&&de(!0),Ve=g.createElement(Ne,c()({},V,{isRackEnabled:h,sendChallengeCode:P,sendCodeSelection:A}));break;case!!$:w&&de(!0),Ve=g.createElement(pe,{isRackEnabled:h,logToClickStreamAnalytics:S,sendChallengeCode:P,signInComponent:V,verifyPin:ae});break;case!!Pe:w&&de(!0),Ve=g.createElement(Pt.Z,{view:he.pA});break;case Le:w&&this.toggleOTPCheckoutView(!1),Ve=g.createElement(Fe,{customerProfile:s,email:le,header:w?he.MV.HEADER:he.mQ.HEADER,isCreditApplication:!w&&_,isMobile:l,isRackEnabled:h,onSubmit:({emailIsValid:e,email:t})=>this.handleEmailEntrySubmit({emailIsValid:e,email:t,isCheckoutView:Oe}),shouldIncludePolicies:!w,subheader:w?he.MV.SUBHEADER:he.mQ.SUBHEADER,submitButtonText:w?he.MV.SUBMIT_BUTTON_TEXT:he.mQ.SUBMIT_BUTTON_TEXT,otpCheckoutExperiment:w&&z===he.YS});break;case Be:w&&this.toggleOTPCheckoutView(),Ve=g.createElement(B,{primaryButtonSlot:ze,secondaryButtonSlot:Ue,tertiaryButton:We},g.createElement(Bt,{email:ke,handleEditClick:this.handleEditObfuscatedEmail,showRecognizedView:ye,firstName:oe,isRackEnabled:h,impressionEvent:()=>Be?N(ee()):{}}));break;case"SIGNUP"===De:w&&de(!0),Ve=g.createElement(y.N6,{isAccountCheckModal:C,onSuccess:ge,team:U,view:z});break;default:w&&this.toggleOTPCheckoutView(),Ve=xe&&!ye?g.createElement(B,{primaryButtonSlot:ze,secondaryButtonSlot:Ue,tertiaryButtonSlot:We},g.createElement(Bt,{email:E()(this.props,"customerProfile.findCustomer.email",""),handleEditClick:this.onEdit,isRackEnabled:h})):g.createElement(Nt,{authorize:e,authorizeOtpCode:t,browser:m,clearCodeAndVerifier:n,conflictTextMessageDisclaimer:a,customerProfile:s,eventCreateAccountPath:u,firstName:oe,history:p,isCreditApplication:_,isDevelopment:o,isFetchingRecognizedUser:q,isInstantLoyaltyRackDiscountExperimentActive:ve,isInstantRackCardMemberDiscountExperimentActive:Se,isIOS:r,isMobileDevice:l,isRackEnabled:h,isServer:d,isSignInContext:v,logToClickStreamAnalytics:S,obfuscatedEmail:ke,onDisplayAccountCheckComponent:k,onSignInSuccess:ge,otpCheckoutExperiment:w,otpClearErrors:f,otpClearState:I,preAuthorize:b,sendBusinessEventLog:N,sendEmailSuggestionClickLog:R,sendForterCheckLog:M,sendOtpCode:T,showCreateAccountLink:F,showPasscodeOption:L,showRecognizedView:ye,signInComponent:V,signinText:ie,startSignIn:se,suppressRecognizedView:this.suppressRecognizedView,onEdit:this.onEdit,handleEditObfuscatedEmail:this.handleEditObfuscatedEmail,handleOTPSendCode:this.handleOTPSendCode,isSendNewCode:this.state.isSendNewCode,setIsSendNewCode:({isSendNewCode:e})=>this.setState({isSendNewCode:e}),isCheckoutViewWithExperimentEnabled:Oe&&w,handleSignInWithPasswordClick:this.handleSignInWithPasswordClick,onRedirectFromCheckoutSignInForm:ce,isOTPSingleField:ue})}return this.wrapComponent(Ve,_e)}}_t.defaultProps={history:{},showAccountCheckExperience:!1};const Ft=(0,s.$j)((e=>({config:e.config,environment:e.environment,featureFlags:e.featureFlags,customerProfile:e.customerProfile,signInComponent:e.signInComponent,shopper:e.shopper,experiments:e.experiments,isOTPSingleField:(0,a.j$)(e)})),{...a.t1,...o.t1,...a._n,...o._n,...a.Sf,...o.Sf,loadInitialStateForCustomerProfile:o.kF,loadInitialStateForSignInComponent:a.kF,setShowGuestCheckoutAction:r.cI,setIsCheckingOutAsGuestAction:r.rL,setHideGuestCheckoutAction:r.Ux})(_t)},52839:(e,t,n)=>{"use strict";n.d(t,{"s_":()=>i,"Xc":()=>s,"Mv":()=>a,"xH":()=>o,"Ph":()=>r,"E0":()=>l,"to":()=>c,"ES":()=>d,"kw":()=>m,"XP":()=>u,"hg":()=>h,"iz":()=>p,"S5":()=>E,"kM":()=>g,"TE":()=>C,"Gr":()=>v,"Wx":()=>S,"j6":()=>y,"aq":()=>k,"Jx":()=>w,"SR":()=>I,"LX":()=>f,"gm":()=>b,"YS":()=>N,"zI":()=>P,"lM":()=>T,"pA":()=>A,"cu":()=>R,"VY":()=>M,"$6":()=>D,"mQ":()=>O,"Ff":()=>Z,"MV":()=>L,"sA":()=>x,"c9":()=>B,"PY":()=>_,"It":()=>F,"TD":()=>V,"hU":()=>z,"VZ":()=>U,"AI":()=>W});const i="otp-welcome-back",s="sms",a="In The Nordy Club? Sign in to earn points on your purchase.",o="Sign in to get the 1% discount as a Nordy Club member.",r="Use your account for faster checkout and easy order tracking.",l="Sign in to get the 5% discount with your Nordstrom credit card.",c="checkout-info-message",d="#checkout-info-message",m="Restrictions apply",u="smooth",h={HEADER:"We couldn't find your account",MESSAGE:"There’s no account associated with that email. Try a different email or continue as a guest. You can create an account during checkout."},p="A one time code will be sent to the mobile number associated with your account. Messaging and data rates may apply.",E="Sign In with a Code Instead",g="div",C="medium",v="large",S="loyalty_member_1_percent_discount",y="default",k="loyaltymemberdiscount",w="cardmember_5_percent_discount",I="cardmemberdiscount",f="account-sign-in",b="active-refresh",N="checkout",P="credit-sign-in",T="homepage",A="recognized-sign-in",R="sign-in-modal",M="account-sign-in-anniversary",D="credit-sign-in",O={HEADER:"Sign In | Create Account",SUBHEADER:"Enter your email to get started.",SUBMIT_BUTTON_TEXT:"Next"},Z={HEADER:"Welcome back",SUBHEADER:"We’ll send a one time code to the phone number associated with your account. No password needed."},L={HEADER:"Enter your email",SUBHEADER:"We’ll look up your account for faster checkout and easy order tracking.",SUBMIT_BUTTON_TEXT:"Continue to Checkout"},x="Send a new code and try again.",B="Code expired",_="Code expired. Send a new code and try again.",F="otpMobileCodeInput",V={CODE_ENTRY_HEADER:"Enter code",CODE_ENTRY_MESSAGE:"We sent a code to:"},z="Continue to Guest Checkout",U={CODE_EXPIRED:"Code expired",INCORRECT_CODE:"Check the code and try again"},W={SIGN_IN_BUTTON:"Sign In",HEADER:"Sign in"}},33089:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>r});var i=n(93981),s=n(16587),a=n(5929),o=n.n(a);const r=({view:e})=>i.createElement("div",{className:o().spinner},i.createElement(s.Z,{size:"large",visible:!0}))},86:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>r});var i=n(93981),s=n(8764),a=n(62948),o=n.n(a);const r=e=>{const{className:t,handlePrimaryClick:n,handleSecondaryClick:a,hideSecondaryButton:r=!1,isDisabled:l=!1,primaryText:c="Save & Continue",secondaryText:d="Cancel"}=e;return i.createElement("div",{className:t||""},i.createElement(s.Z,{variant:"primary",size:"medium",isAnimated:!1,buttonPassThrough:{id:"modal-save",disabled:l,onClick:n,type:"button"}},c),!r&&i.createElement(s.Z,{variant:"tertiary",size:"medium",isAnimated:!1,buttonPassThrough:{id:"modal-cancel",className:o().modalCancelButton,onClick:a,type:"button"}},d))}},32216:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>c});var i=n(93981),s=n(30583),a=n.n(s),o=n(62948),r=n.n(o);const l=e=>{const{content:t,footer:n,id:s,includeExtraPadding:o=!0,isFixedFooter:l=!0,isVertical:c=!1}=e,d=Boolean(n);return i.createElement("div",{className:a()(r().wrapper,{[r().verticalWrapper]:c},{[r().extraHeightWrapper]:o}),id:s},i.createElement("div",{className:a()(r().content,{[r().hasFooter]:d&&o},{[r().extraPaddingContent]:o})},t),n&&i.createElement("div",{className:a()(r().footer,{[r().styledFooter]:!c},{[r().fixedFooter]:l})},n))};l.displayName="ModalWrapper";const c=l},84698:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>h});var i=n(93981),s=n(30583),a=n.n(s),o=n(67168),r=n.n(o),l=n(92666),c=n(32216),d=n(86),m=n(68944),u=n.n(m);const h=({closeModal:e,rackInstantDiscountDetails:t,rackInstantDiscountHeadLine:n,includeExtraPadding:s=!0,isFixedFooter:o=!0,isVertical:m=!1})=>i.createElement(c.Z,{id:"merge-bag-message",content:i.createElement("div",null,i.createElement(l.Z,{as:"h2"},r()(n)),i.createElement("div",null,r()(t))),footer:i.createElement(d.Z,{handlePrimaryClick:()=>e(),hideSecondaryButton:!0,primaryText:"Close",className:a()({[u().closeButton]:m})}),includeExtraPadding:s,isFixedFooter:o,isVertical:m})},46991:e=>{e.exports={"details":"Bken_"}},78632:e=>{e.exports={"ndls-layout-breakpoint-small":"414px","wrapper":"MJ8kr","children":"DNhp0","childrenWithoutSecondaryButton":"wsW63","primaryButton":"WRb9S","divider":"jkuHn","noMargin":"fMVw7"}},93165:e=>{e.exports={"termsConditions":"Q_QbQ"}},53347:e=>{e.exports={"popoverHeaderMessage":"ozvls","popoverMessage":"ueci2","popoverContainer":"Dzrbc","br":"bx_yM"}},99518:e=>{e.exports={"divider":"PxG4E","break":"P0mi7","text":"AcHqG"}},88305:e=>{e.exports={"container":"fdA86","emailOrPhoneSelection":"YKZZh","radioButtonDescriptor":"eyoun","radioButtonDescriptorEmail":"oRgzO","dataRates":"sVKpT","inputField":"FBSEI","inputFontSizeOverride":"lTfY7"}},20562:e=>{e.exports={"errorMessage":"LxiUC","errorIcon":"lxYSr"}},20148:e=>{e.exports={"iconContainer":"pXLLY","container":"ud7Gy","checkoutInfoMessage":"fZsp3","svg":"pCg1H","boldField":"MfLHs","glyphOverrideContainer":"G1Ayv","messageContainer":"bIiLJ"}},82683:e=>{e.exports={"signingInMobileNumber":"xnqsj","loadingSpinnerContainer":"bxMdT","errorMessageContainer":"ftPu6","errorMessage":"PCuWv","errorSubMessage":"K2PiQ","errorIcon":"XCbh8","margin":"lFqsS","header":"BiWzr","headerTall":"rLIH0","headerWithoutMargin":"ks7hV","wrapper":"Eqvf6","sendNewCodeWrapper":"pHj3Y","sendNewCodeWrapperNonModal":"sK2PX"}},46050:e=>{e.exports={"wrapper":"FXSoN","header":"GaSye","subheader":"kyjK8","termsAndConditions":"M4fWo","signInWithCodeBtn":"Pwpp8","details":"bW34w","orDivider":"tLU8d","signInWithPasswordBtn":"_09Cw5"}},5929:e=>{e.exports={"container":"rPZYy","otpCheckoutContainer":"W1XjA","header":"hHrga","message":"qia3z","upgradeContainer":"qpn2O","icon":"L0UwY","createAccountText":"nPoUs","password":"JlQns","passwordBox":"wya0Z","boldSCAField":"TcxIl","SCAMessage":"NqVKx","heading":"kP72j","iconContainer":"hXvLn","SCAPopover":"w_Dtg","textMessageLegalDisclaimer":"OTEO2","termsConditions":"FbLlh","recognizedEditLink":"hMoup","button":"hCPYo","infoContainer":"TzCnk","otpContainer":"HRDLm","otpButton":"SwDhS","otpSubText":"OSWcJ","spinner":"QKqpB","orDivider":"qPIal","otpContainerCheckout":"ezgZT","smallHeadingContainer":"zKCcy","smallHeadingContainerNoMargin":"Z_TSC","bannerErrorSection":"MU5k1","otpCheckoutWrapper":"xTQkZ","withOrDivider":"k2bdf","passwordInput":"RL9hd"}},44889:e=>{e.exports={"topContainerMargin":"aY1uC","topBtnMargin":"WTiYb","details":"PaUI8"}},68944:e=>{e.exports={"closeButton":"GeoyB"}}}]);